# Amalgam Documentation
# Quarto project configuration for project documentation site

project:
  type: website
  output-dir: _site
  render:
    - "*.qmd"
    - "*.md"
    - "!reference/legacy/"
    - "!reference/RENAME-TRACKING.md"
  resources:
    - CNAME
    - .nojekyll

website:
  title: "Amalgam"
  description: "A 2026 RepRap Reference Specification"

  navbar:
    logo: images/amalgam_logo_web.svg
    left:
      - text: "Home"
        href: index.qmd
      - text: "Guides"
        menu:
          - text: "All Guides"
            href: guides/index.qmd
          - text: "---"
          - text: "Print Settings & Brand Guide"
            href: guides/print-settings.qmd
          - text: "Frame Assembly"
            href: guides/frame-assembly.qmd
          - text: "Klipper Configuration"
            href: guides/klipper-config.qmd
          - text: "---"
          - text: "Calibration Guide"
            href: guides/calibration-guide.md
          - text: "Calibration Cheatsheet"
            href: guides/calibration-cheatsheet.md
          - text: "Maintenance & Setup"
            href: guides/maintenance-setup.md
      - text: "Reference"
        menu:
          - text: "Donor Printer Guide"
            href: reference/donor-printer-guide.md
          - text: "Master Parts List"
            href: reference/MASTER_PARTS_LIST.md
          - text: "Parts Sourcing Guide"
            href: reference/parts-sourcing-guide.md
      - text: "ADRs"
        href: adr/index.qmd
      - text: "Analysis"
        menu:
          - text: "Analysis Overview"
            href: analysis/index.qmd
          - text: "---"
          - text: "Rod Sag Analysis"
            href: analysis/rod-sag-analysis.md
          - text: "Z-Height Analysis"
            href: analysis/z-height-analysis.md
          - text: "Single vs Dual Rod"
            href: analysis/single-vs-dual-rod.md
          - text: "Motion System Comparison"
            href: analysis/motion-system-comparison.md
      - text: "Deep Dives"
        menu:
          - text: "Deep Dives Overview"
            href: deep-dives/index.qmd
          - text: "---"
          - text: "Decision Guide"
            href: deep-dives/tractor_00_decision_guide.md
          - text: "Frame & Assembly"
            href: deep-dives/tractor_01_frame_and_assembly.md
          - text: "X-Y Axis System"
            href: deep-dives/tractor_02_xy_axis_system.md
          - text: "Motor Mounts & Vibration"
            href: deep-dives/tractor_03_motor_mounts_vibration.md
          - text: "X-Gantry Design"
            href: deep-dives/tractor_04_xgantry_design_decision.md
          - text: "PSU Configurations"
            href: deep-dives/tractor_05_psu_configurations.md
          - text: "Extruder Decision"
            href: deep-dives/tractor_06_extruder_decision.md
      - text: "Articles"
        menu:
          - text: "All Articles"
            href: articles/index.qmd
          - text: "---"
          - text: "Age of the Appliance"
            href: articles/age-of-the-appliance.md
          - text: "Core Engineering Truths"
            href: articles/core-engineering-truths.md
          - text: "Reclaiming the RepRap Legacy"
            href: articles/reclaiming-the-reprap-legacy.md
          - text: "Reconfiguration of 3D Printing Market"
            href: articles/reconfiguration-of-3d-printing-market.md
    right:
      - icon: github
        href: https://github.com/the80-20workshop/amalgam

  sidebar:
    - title: "Guides"
      contents:
        - guides/index.qmd
        - guides/print-settings.qmd
        - guides/frame-assembly.qmd
        - guides/klipper-config.qmd
        - guides/calibration-guide.md
        - guides/calibration-cheatsheet.md
        - guides/maintenance-setup.md

    - title: "Reference"
      contents:
        - reference/donor-printer-guide.md
        - reference/MASTER_PARTS_LIST.md
        - reference/parts-sourcing-guide.md

    - title: "Analysis"
      contents:
        - analysis/index.qmd
        - analysis/rod-sag-analysis.md
        - analysis/z-height-analysis.md
        - analysis/single-vs-dual-rod.md
        - analysis/motion-system-comparison.md

    - title: "Deep Dives"
      contents:
        - deep-dives/index.qmd
        - deep-dives/tractor_00_decision_guide.md
        - deep-dives/tractor_01_frame_and_assembly.md
        - deep-dives/tractor_02_xy_axis_system.md
        - deep-dives/tractor_03_motor_mounts_vibration.md
        - deep-dives/tractor_04_xgantry_design_decision.md
        - deep-dives/tractor_05_psu_configurations.md
        - deep-dives/tractor_06_extruder_decision.md

    - title: "Articles"
      contents:
        - articles/index.qmd
        - articles/age-of-the-appliance.md
        - articles/core-engineering-truths.md
        - articles/reclaiming-the-reprap-legacy.md
        - articles/reconfiguration-of-3d-printing-market.md

format:
  html:
    theme: cosmo
    toc: true
    toc-depth: 3
    code-fold: true

# Variables from config.py (reference spec defaults for public site)
# Populated by: python scripts/export_config.py > docs/_variables.yml
# Referenced in .qmd as {{< var name >}}
metadata-files:
  - _variables.yml

execute:
  freeze: auto
